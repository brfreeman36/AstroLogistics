<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title></title>
    <style media="screen">
      button {
        margin:10px 10px 10px 0px;
        padding:1px 40px 1px 40px;
      }
    </style>
  </head>
  <body>
    <div class="Game" id="Game">
      <h3 id="money">Money: <span id="currentmoney"></span></h3>
      <h3 id="humanpilots" >Human Pilots: <span id="currentPilots"></span></h3>
      <div class="" id="buttonContainer">
        <button type="button" id="flyButton" name="flyButton">Fly</button>
        <button type="button" id="humanPilotButton" name="humanPilotButton" title="" >Buy Human Pilot</button>
      </div>
    </div>
  </body>
  <script type="text/javascript">
    let money = 0;
    let humanPilots = 0;
    let humanPilotCost = 20;
    let humanDispatcherCost = 50;
    let currentMoney;
    let moneyRounded;
    document.getElementById("humanPilotButton").title = "Cost: " + humanPilotCost;
    document.getElementById('currentPilots').innerHTML = humanPilots;

    // Main Loop
    window.setInterval(function () {
      money += humanPilots * 1/1000;
      moneyDisplay = Math.floor(money);
      document.getElementById('humanPilotButton').disabled = (money < humanPilotCost) ? true : false;
      currentMoney = document.getElementById('currentmoney');
      currentMoney.textContent = moneyDisplay;
    }, 10);
    // End Main loop

    // Human Pilot button click
    document.getElementById("humanPilotButton").addEventListener("click", function() {
      if (money >= humanPilotCost) {
      humanPilots++;
      money -= humanPilotCost;
      humanPilotCost *= 1.1;
      humanPilotCostDisplay = Math.floor(humanPilotCost)
      document.getElementById("humanPilotButton").title = "Cost: " + humanPilotCostDisplay;
      document.getElementById('currentPilots').innerHTML = humanPilots;
      checkCreateHumanDispatcher();
      }
    });
    // Fly button click
    document.getElementById("flyButton").addEventListener("click", function() {
      money++;
    });
    function checkCreateHumanDispatcher() {
      if (humanPilots >= 1 && document.getElementById('humandispatcherbutton') == null) {
        let createHumanDispatcherButton = document.createElement("BUTTON");
        createHumanDispatcherButton.innerHTML = "Buy Human Dispatcher";
        createHumanDispatcherButton.id = "humandispatcherbutton";
        document.getElementById('buttonContainer').appendChild(createHumanDispatcherButton);
      }
    };
  </script>
</html>
